package day16;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;

public class StreamEx02 {

	public static void main(String[] args) {
		/* 여행사 상품
		   - 여행비용이 15세 이상은 100만원
		   - 15세 미만은 80만원으로 계산
		   - 고객 5명이 패키지 여행을 떠난다고 가정했을 경우
		  
		  1. 비용을 계산 => 출력
		  2. 고객 명단 출력 (Customer class 생성 -> ArrayList로 관리)
		  
		   - 예시)
		   	이름: 신형만 	나이:40 	비용:100
		   	이름: 봉미선 	나이:38 	비용:100
		   	이름: 신짱구 	나이:5 	비용:80
		   	이름: 신짱아 	나이:3 	비용:80
		   	이름: 흰둥이 	나이:2 	비용:80
		   	총 여행경비 : ---
		   	
		  3. 20세 이상 성인 고객 명단 출력 => 이름순으로 정렬 	
		 */
		
		
		List<Customer> list = new ArrayList<>();
		
		list.add(new Customer("신형만", 40));
		list.add(new Customer("봉미선", 38));
		list.add(new Customer("신짱구", 5));
		list.add(new Customer("신짱아", 3));
		list.add(new Customer("홍길동", 30));
		
		list.stream().forEach(n -> System.out.println(n));
		
		int sum = list.stream()
					.mapToInt(n -> n.getPrice())
					.sum();
		System.out.println("총 여행경비: "+sum+"만원");
		
		int count = (int) list.stream()
							  .filter(n -> n.getAge()>=20)
							  .count();
		
		System.out.println("- - 성인 고객 명단(이름순) - -");
		list.stream()
			.filter(n -> n.getAge() >= 20)
			.sorted(new Comparator<>() {

			@Override
			public int compare(Customer o1, Customer o2) {
				// 이름 순으로 오름차순
				return o1.getName().compareTo(o2.getName());
			}
		})
			.forEach(n->System.out.println(n));
		
	}

}

class Customer {
	private String name;
	private int age;
	private int price;
	
	public Customer() {}
	public Customer(String name, int age) {
		this.name = name;
		this.age = age;
		this.price = age>= 15 ? 100 : 80;
	}
	
	
	public String getName() {
		return name;
	}
	
	public void setName(String name) {
		this.name = name;
	}
	
	public int getAge() {
		return age;
	}
	
	public void setAge(int age) {
		this.age = age;
	}

	public int getPrice() {
		return price;
	}
	public void setPrice(int price) {
		this.price = price;
	}
	
	@Override
	public String toString() {
		return "이름: " + name + "	나이: " + age + "세 " + "	비용: " + price;
	}
	
	
	
} // 클래스